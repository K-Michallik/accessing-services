@if(applicationNode){
    <div class="component">
        <div class="section">
            <ur-button (handleClick)="onToolPress()">Tool IO</ur-button>
            <ur-button (handleClick)="onWiredPress()">Wired IO</ur-button>
            <ur-button (handleClick)="clearSignalHistory()">Clear History</ur-button>
            <!-- Temporary debug buttons - remove later -->
            <ur-button (handleClick)="logSignalStatusMap()">Log Signal Map</ur-button>
            <ur-button (handleClick)="logSignalStatusList()">Log Signal List</ur-button>
        </div>
        
        <!-- Signal Status Display -->
        <div class="section">
            <h3>Signal Status 
                @if (isTrackingSignals()) {
                    <span class="status-indicator active">ðŸŸ¢ Tracking</span>
                } @else {
                    <span class="status-indicator inactive">ðŸ”´ Not Tracking</span>
                }
            </h3>
            
            @if (signalStatusList().length > 0) {
                <div class="signals-container">
                    @for (signal of signalStatusList(); track signal.signalID) {
                        <div class="signal-item" [class]="'signal-type-' + signal.type.replace('signal_', '').replace('_', '-')">
                            <div class="signal-header">
                                <strong>{{ signal.signalID }}</strong>
                                <span class="signal-type">{{ signal.type }}</span>
                            </div>
                            <div class="signal-value">
                                @switch (signal.type) {
                                    @case ('signal_boolean_value') {
                                        <span class="boolean-value" [class.true]="signal.value === true" [class.false]="signal.value === false">
                                            {{ signal.value ? 'TRUE' : 'FALSE' }}
                                        </span>
                                    }
                                    @case ('signal_float_value') {
                                        <span class="float-value">{{ +signal.value | number:'1.3-3' }}</span>
                                    }
                                    @case ('signal_analog_domain') {
                                        <span class="domain-value">{{ signal.value }}</span>
                                    }
                                    @default {
                                        <span class="unknown-value">{{ signal.value }}</span>
                                    }
                                }
                            </div>
                            <div class="signal-timestamp">
                                Last updated: {{ signal.lastUpdated | date:'medium' }}
                            </div>
                        </div>
                    }
                </div>
            } @else {
                <div class="no-signals">
                    <p>No signal updates received yet. Signals will appear here automatically when they change.</p>
                </div>
            }
        </div>
    </div>
}
